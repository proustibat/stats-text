<ion-header>
    <ion-navbar>
        <ion-title color="primary">
            Ionic Occurences
        </ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>

    <div>
        <h1 text-uppercase class="data-title">Data</h1>
        <button class="data-buttons" outline color="interaction" ion-button small (click)="shuffle()"><ion-icon name="shuffle"></ion-icon></button>
        <button class="data-buttons" outline color="interaction" ion-button small (click)="swap()"><ion-icon name="swap"></ion-icon></button>
        <p class="text" text-justify>{{text}}</p>
    </div>

    <div>
        <h1>Global Stats</h1>
        <ion-row class="global-stats" *ngIf="textOccurrences && textOccurrences.meta">
            <ion-col col-2 text-center>
                <span class="value"><ion-badge margin-bottom color="dark">{{textOccurrences.meta.totalWords}}</ion-badge></span>
                <span class="label" text-uppercase>Total<br/>Words</span>
            </ion-col>
            <ion-col col-3 text-center>
                <span class="value"><ion-badge margin-bottom color="dark">{{textOccurrences.meta.differentWords}}</ion-badge></span>
                <span class="label" text-uppercase>Different<br/>Words</span>
            </ion-col>

            <ion-col col-4 text-center>
                <span class="value"><ion-badge margin-bottom color="dark">{{textOccurrences.meta.charsWS}}</ion-badge></span>
                <span class="label" text-uppercase>Characters<br/>(with spaces)</span>
            </ion-col>
            <ion-col col-3 text-center>
                <span class="value"><ion-badge margin-bottom color="dark">{{textOccurrences.meta.charsNS}}</ion-badge></span>
                <span class="label" text-uppercase>Characters<br/>(no space)</span>
            </ion-col>
        </ion-row>

        <div class="details" padding-top>
            <h1>Details</h1>

            <input type="checkbox" class="read-more-state" id="settings-details" />
            <label for="settings-details" class="read-more-trigger" margin-bottom (click)="onReadMore($event)"></label>

            <div class="read-more-wrap">
                <div class="read-more-target" [ngClass]="readMoreOpened ? 'opened' : 'closed'">
                    <ion-searchbar [(ngModel)]="searchTerm" (ionInput)="setFilteredItems($event)" (ionClear)="reset()"></ion-searchbar>

                    <p class="order-buttons">Order list by occurrences
                        <button ion-button small color="interaction" (click)="sort('desc')"><ion-icon name="trending-down"></ion-icon></button>
                        <button ion-button small color="interaction" (click)="sort('asc')"><ion-icon name="trending-up"></ion-icon></button>
                    </p>

                    <p class="filter-length" no-padding no-margin padding-top>Display words from <ion-badge color="light">{{rangeLength.lower}}</ion-badge> to <ion-badge color="light">{{rangeLength.upper}}</ion-badge> characters.</p>

                    <div class="range-occurences" no-padding no-margin>
                        <ion-range no-padding color="interaction" *ngIf="textOccurrences" dualKnobs="true" [min]="textOccurrences.smallest[0] ? textOccurrences.smallest[0].length : 0" [max]="textOccurrences.longest[0] ? textOccurrences.longest[0].length : 0" [(ngModel)]="rangeLength" (ionChange)="setFilteredItems($event)">
                            <ion-label range-left>{{textOccurrences.smallest[0] ? textOccurrences.smallest[0].length : 0}}</ion-label>
                            <ion-label range-right>{{textOccurrences.longest[0] ? textOccurrences.longest[0].length : 0}}</ion-label>
                        </ion-range>
                    </div>

                    <!--<div padding-top>-->
                        <!--<ion-select [(ngModel)]="gender">-->
                            <!--<ion-option value="f">Female</ion-option>-->
                            <!--<ion-option value="m">Male</ion-option>-->
                        <!--</ion-select>-->
                    <!--</div>-->

                    <hr/>
                </div>
            </div>

        </div>





        <p *ngFor="let item of stats">
            <ion-badge color="dark">{{ item.number }}</ion-badge>
            {{ item.value }}
        </p>


    </div>


</ion-content>
