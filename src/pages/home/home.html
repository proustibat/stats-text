<ion-header>
    <ion-navbar>
        <ion-title>
            Ionic Occurences
        </ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>

    <div>
        <h1 text-uppercase class="data-title">Data</h1>
        <button class="data-buttons" outline ion-button small (click)="shuffle()"><ion-icon name="shuffle"></ion-icon></button>
        <button class="data-buttons" outline ion-button small (click)="swap()"><ion-icon name="swap"></ion-icon></button>
        <p class="text">{{text}}</p>
    </div>

    <hr/>

    <div>
        <h1>Display Results</h1>
        <h2>Settings</h2>
        <h3>Words length</h3>

        <p>Display words from <ion-badge>{{rangeLength.lower}}</ion-badge> to <ion-badge>{{rangeLength.upper}}</ion-badge> characters</p>
        <ion-range *ngIf="textOccurrences" dualKnobs="true" pin="true" [min]="textOccurrences.smallest[0].length" [max]="textOccurrences.longest[0].length" [(ngModel)]="rangeLength" (ionChange)="setFilteredItems($event)">
            <ion-label range-left>{{textOccurrences.smallest[0].length}}</ion-label>
            <ion-label range-right>{{textOccurrences.longest[0].length}}</ion-label>
        </ion-range>

        <h3>Order list</h3>

        <button ion-button small (click)="sort('desc')"><ion-icon name="trending-down"></ion-icon></button>
        <button ion-button small (click)="sort('asc')"><ion-icon name="trending-up"></ion-icon></button>

        <h3>Search a word or chars</h3>

        <ion-searchbar [(ngModel)]="searchTerm" (ionInput)="setFilteredItems($event)" (ionClear)="reset()"></ion-searchbar>

        <h2>Stats</h2>
        <h3>Global</h3>
        <div class="global-stats-table" *ngIf="textOccurrences && textOccurrences.meta">
            <p padding-left padding-right>
                <span class="label" text-uppercase>Total<br/>Words</span>
                <span class="value" padding-top>{{textOccurrences.meta.totalWords}}</span>
            </p>
            <p padding-left padding-right>
                <span class="label" text-uppercase>Different<br/>Words</span>
                <span class="value" padding-top>{{textOccurrences.meta.differentWords}}</span>
            </p>
        </div>
        <div class="global-stats-table" *ngIf="textOccurrences && textOccurrences.meta">
            <p padding-left padding-right>
                <span class="label" text-uppercase>Characters<br/>(with spaces)</span>
                <span class="value" padding-top>{{textOccurrences.meta.charsWS}}</span>
            </p>
            <p padding-left padding-right>
                <span class="label" text-uppercase>Characters<br/>(no space)</span>
                <span class="value" padding-top>{{textOccurrences.meta.charsNS}}</span>
            </p>
        </div>

        <h3>Details</h3>
        <p *ngFor="let item of stats">
            <ion-badge>{{ item.number }}</ion-badge>
            {{ item.value }}
        </p>


    </div>


</ion-content>
